<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wildvogelhilfen Deutschland - Interaktive Karte</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <div class="container">
            <h1>🦅 Wildvogelhilfen in und um Deutschland</h1>
            <p>Interaktive Karte der Auffangstationen und Wildvogelhilfen</p>
            <p>Basierend auf Daten von <a href="https://wp.wildvogelhilfe.org/" target="_blank">wildvogelhilfe.org</a></p>
        </div>
    </header>

    <main>
        <div class="container">
            <div class="search-bar">
                <input id="search-input" type="text" placeholder="Ort oder PLZ suchen..." aria-label="Ort oder Postleitzahl" />
                <button id="search-btn" type="button">Suchen</button>
                <button id="clear-btn" type="button" title="Filter zurücksetzen">✕</button>
                <div id="search-results" class="search-results" aria-live="polite"></div>
            </div>
            <div id="map"></div>
            
            <div class="info-panel">
                <h3>Über diese Karte</h3>
                <p>Diese interaktive Karte zeigt Wildvogelhilfen und Auffangstationen in Deutschland, 
                   Österreich, der Schweiz und Italien. Klicken Sie auf einen Marker, um 
                   Kontaktinformationen und Details zu erhalten.</p>
                   
                <div class="features">
                    <p><strong>🔍 Features:</strong></p>
                    <ul>
                        <li>📍 Genaue Standorte mit Koordinaten</li>
                        <li>📞 Direkte Telefon- und E-Mail-Links</li>
                        <li>🦅 Spezialisierungen erkennbar</li>
                        <li>🌍 Deutschland + benachbarte Länder</li>
                    </ul>
                </div>
                
                <div class="stats">
                    <span id="station-count">Lade Stationen...</span>
                </div>
                
                <div class="note">
                    <p><small><strong>Hinweis:</strong> Die meisten Stationen arbeiten ehrenamtlich. 
                    Bitte rufen Sie vorher an, um Verfügbarkeit zu prüfen.</small></p>
                </div>
            </div>
        </div>
    </main>

    <!-- Widget-Bereich -->
    <section class="widget-section">
        <div class="container">
            <div class="widget-toggle">
                <button id="widget-toggle-btn" type="button">
                    📦 Widget-Code für Ihre Webseite
                    <span id="widget-toggle-icon">▼</span>
                </button>
            </div>
            
            <div id="widget-content" class="widget-content" style="display: none;">
                <div class="widget-explanation">
                    <h3>🔗 Karte auf Ihrer Webseite einbetten</h3>
                    <p>Kopieren Sie den folgenden HTML-Code, um die Wildvogelhilfe-Karte auf Ihrer eigenen Webseite einzubetten:</p>
                </div>
                
                <div class="widget-options">
                    <div class="widget-size-controls">
                        <label>
                            <strong>Größe wählen:</strong>
                        </label>
                        <div class="size-buttons">
                            <button type="button" class="size-btn active" data-width="800" data-height="600">Standard (800x600)</button>
                            <button type="button" class="size-btn" data-width="1000" data-height="700">Groß (1000x700)</button>
                            <button type="button" class="size-btn" data-width="600" data-height="400">Kompakt (600x400)</button>
                            <button type="button" class="size-btn" data-width="100%" data-height="500">Responsive (100%x500)</button>
                        </div>
                    </div>
                    
                    <div class="widget-features">
                        <label>
                            <input type="checkbox" id="include-search" checked>
                            Suchfunktion einschließen
                        </label>
                    </div>
                </div>
                
                <div class="widget-code-container">
                    <label for="widget-code"><strong>HTML-Code:</strong></label>
                    <textarea id="widget-code" readonly></textarea>
                    <div class="widget-actions">
                        <button id="copy-widget-code" type="button">📋 Code kopieren</button>
                        <button id="preview-widget" type="button">👁️ Vorschau</button>
                    </div>
                </div>
                
                <div class="widget-preview-container" id="widget-preview-container" style="display: none;">
                    <h4>📺 Vorschau:</h4>
                    <div class="preview-frame">
                        <iframe id="widget-preview" frameborder="0"></iframe>
                    </div>
                </div>
                
                <div class="widget-info">
                    <h4>ℹ️ Wichtige Hinweise:</h4>
                    <ul>
                        <li>Das Widget lädt die aktuellen Daten direkt von dieser Webseite</li>
                        <li>Für eine optimale Darstellung sollte die Mindestbreite 400px betragen</li>
                        <li>Das Widget ist responsive und passt sich automatisch an</li>
                        <li>Die Daten werden regelmäßig aktualisiert</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <p>Daten basieren auf <a href="https://wp.wildvogelhilfe.org/auffangstationen/karte-der-auffangstationen/" target="_blank">wildvogelhilfe.org</a></p>
        </div>
    </footer>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    
    <!-- Custom JavaScript -->
    <script src="js/map.js"></script>
</body>
</html>
